---
title: "Supplemental Materials for Data Analyses"
author: "Daniel Albohn, Kayla Brown, & Yiming Qian"
date: "`r Sys.time()`"
output:
  html_document:
    code_foldering: show
    mathjax: default
    theme: spacelab
    toc: yes
    toc_depth: 3
    toc_float: yes
    code_folding: show
---

```{r setup, include=FALSE, message = FALSE}
knitr::opts_chunk$set(echo = TRUE,
                      warning = FALSE)
options(width = 150, digits = 3)

pkg_list <- c("tidyverse", "psych", "ez", "rcompanion", "knitr", "car",
              "afex", "ggfortify", "Hmisc", "emmeans", "jtools", "apaTables")
purrr::walk(pkg_list, library, quietly = TRUE, character.only = TRUE)
```

```{r}
sat_act <- sat.act %>%
  # mutate(., gender_fac = ifelse(gender == 1, "male", "female") %>%
  mutate(.,
    gender_fac = case_when(gender == 1 ~ "male",
                           gender == 2 ~ "female"),
    education_fac = case_when(education == 0 ~ "none",
                              education == 1 ~ "some_hs",
                              education == 2 ~ "high_school",
                              education == 3 ~ "some_college",
                              education == 4 ~ "college",
                              education == 5 ~ "graduate")
  )
```

# Chi-Squared
## Visualizing Chi-Squared.
```{r fig.height=7, fig.width=7}
vcd::mosaic(~ gender_fac+education_fac, data = sat_act, shade = TRUE, legend = TRUE)
```

# Correlation
The Pearson product moment correlation seeks to measure the linear association between two variables,
$x$ and $y$ on a standardized scale ranging from $r = -1 -- 1$.

The correlation of x and y is a covariance that has been standardized by the standard deviations of $x$ and $y$.
This yields a scale-insensitive measure of the linear association of $x$ and $y$. For much more conceptual detail,
see: https://psu-psychology.github.io/psy-597-SEM/01_correlation_regression/01_Correlation_and_Regression.html.

$$r_{XY}= \frac{s_{XY}}{s_{X} s_{Y}}$$

## Visualizing Correlations
To visualize this relationship, we can pass the raw data to `ggplot` and get a simple regression line using
`stat_smooth()` with the `lm` method.

```{r}
ggplot(sat_act, aes(x=age, y=ACT)) +
  geom_jitter(width=0.1) +
  stat_smooth(method="lm", se=FALSE)
```


