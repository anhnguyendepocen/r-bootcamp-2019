---
title: "Data Visualization Supplement Penn State R Bootcamp 2019"
author: "Holly Zaharchuk, Rebecca Janis & Alicia Vallorani"
date: "`r Sys.time()`"
output:
  html_document:
    code_foldering: show
    mathjax: default
    theme: spacelab
    toc: yes
    toc_depth: 3
    toc_float: yes
    code_folding: show
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
# handy package manager that installs and loads packages used in this document
if (!("pacman" %in% installed.packages()[,"Package"])) { install.packages("pacman") } 
pacman::p_load(tidyverse, psych, interactions) # install (if needed) and load packages
```

# Scatterplots
When you have a large number of data points, you can add jitter to the points (i.e., slightly vary the location of the points) to handle this overplotting issue.
```{r}
# Scatter plot with jitter
ggplot(sat.act, aes(age, ACT, color=education)) +
  geom_point(position="jitter") +
  ylab("Score") +
  xlab("Age") +
  labs(color="Education level") +
  ggtitle("ACT scores by age and education level") +
  theme_classic()

# Scatter plot with jitter short-cut
ggplot(sat.act, aes(age, ACT, color=education)) +
  geom_jitter() +
  ylab("Score") +
  xlab("Age") +
  labs(color="Education level") +
  ggtitle("ACT scores by age and education level") +
  theme_classic()
```


# Bar Graphs
```{r}
# Bar graph with additional element stacked
ggplot(sat.act, aes(education_factor, ACT, fill=gender_factor)) +
  geom_bar(stat="summary", fun.y="mean") +
  scale_fill_grey() +
  ylab("Average score") +
  xlab("Education level") +
  labs(fill="Gender") +
  ggtitle("Average ACT scores at each education level by gender") +
  scale_y_continuous(expand=c(0,0)) +
  theme_classic()

# Bar graph with additional element dodged
ggplot(sat.act, aes(education_factor, ACT, fill=gender_factor)) +
  geom_bar(stat="summary", fun.y="mean", position="dodge") +
  scale_fill_grey() +
  ylab("Average score") +
  xlab("Education level") +
  labs(fill="Gender") +
  ggtitle("Average ACT scores at each education level by gender") +
  scale_y_continuous(expand=c(0,0)) +
  theme_classic()
```

Instead of plotting the bars side-by-side, we can use facet_wrap() to create separate graphs for each gender. It's also possible to set the limits on the axes manually, so the bars don't run into the labels.

```{r}
# Bar graph with additional element stacked
ggplot(sat.act, aes(education_factor, ACT, fill=gender_factor)) +
  geom_bar(stat="summary", fun.y="mean") +
  facet_wrap(~gender_factor) +
  scale_fill_grey() +
  ylab("Average score") +
  xlab("Education level") +
  labs(fill="Gender") +
  ggtitle("Average ACT scores at each education level by gender") +
  scale_y_continuous(expand=c(0,0), limits=c(0,36)) +
  theme_classic()
```
